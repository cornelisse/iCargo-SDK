# Identifiers

Identifiers are essential for addressing concepts, collections and entities when using the iCargo REST API. Depending on the scope and format, four different types of identifiers can be distinguished:  
* a *global unique id* to identify nodes such as Access Points and to published entities in general;
* a local unique id based on:  
  * a *hex string* generated by a document database for referring to entities
  * an *integer* representing an index of an array for referring to concepts
  * or a *textual description* as a combination of the entity's alias and its parent/class.

The last three types of identifiers shall be universal unique in combination with the universal unique id or the internet address of an Access Point.

## Global unique identifier
For the creation of a global unique identifier, the [UUID version 5 (SHA-1 hashing)](http://en.wikipedia.org/wiki/Universally_unique_identifier) compliant to RFC-4122 is proposed.  The UUID is a 32 hexadecimal string plus 4 additional dashes represented in a canonical form as `xxxxxxxx-xxxx-5xxx-xxxx-xxxxxxxxxxxx`.

For the creation of a UUID the following approach is being suggested:  
  1. create one or more Cipher Set fingerprints as input for a SHA-256 hash. The SHA-256 hash (a 64 length lower case hex string) can be used to implement the TeleHash protocol and is constructed for that reason in the same way as proposed by [Jeremie Miller](https://github.com/telehash/telehash.org/blob/master/hashnames.md);
  2. use the SHA-256 hash as input for a SHA-1 to create a 160 bit hash to be used for the creation of the proposed UUID and also for the identification of nodes when using a distributed hash table implementation based on [Kademlia](http://en.wikipedia.org/wiki/Kademlia);
  3. truncate the SHA-1 hash to a 128 bit length to match the specified length of a UUID according to RFC 4122. The four dashes are also a hint for this hash type. 

The approach above will result in:
* A set of Cipher fingerprints;
* A set of hash-keys for different purposes with different lengths:  
  * SHA-256 (64 hex)
  * SHA-1 (40 hex)
  * UUID (32 hex + 4 dashes)

All three hash-keys are derived from the same set of secret keys and can be used for authentication purposes. To illustrate this approach, a working example in JavaScript is available at [jsFiddle](http://jsfiddle.net/ErikCornelisse/uTP98/).

## Database unique object or document identifier (Hex)
All information about an entity is clustered in a single electronic document with a unique identifier provided by the document oriented database or a given globally unique id.

Notes: 
* CouchDB generates UUID's as document ID;
* MongoDB uses a 12 bytes (24 hex) ObjectId which is locally unique.

## Index unique number (Integer)
A unique number as index for concepts is used to optimise the processing of semantic information. See ... (<- work in progress)

## Local text description (String)
The textual representation is intended to support the iCargo REST API when the index of concept or entity is not known in advance. See ... (<- work in progress)



.
